<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		
<title>1-Rebar3 从一个例子入门 - 中间件源码</title>
<meta charset="utf-8" />
<meta name="keywords" content="" />
<meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=5"
/>
<meta name="generator" content="Hexo 6.2.0">
<link rel="stylesheet" href="/css/style.css?v=1664287466771">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Noto+Serif+SC&display=swap"
    media="all"
/>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/highlight.js@9.15.8/styles/solarized-light.css"
/>
<script src="/js/core.js?v=1664287466771"></script>






    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?2ee30baeebf59e698360da94012edd15';
    var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js" async></script>
<!--<script src="" async></script>--> 
	
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="中间件源码" type="application/atom+xml">
</head>

	<body>
        <div class="header  ">
    <div class="container">
        <a class="logo" href="/" title="中间件源码">中间件源码</a>
        <ul class="nav">
            
                <li class="nav-item"><a href="/index.html">首页</a></li>
            
                <li class="nav-item"><a href="/categories">分类</a></li>
            
        </ul>
    </div>
</div>
        <div class="content">
	<div class="banner">
		<div class="container">
			<h1>1-Rebar3 从一个例子入门</h1>
			<div class="info"><span class="date">2022年9月7日</span>•songxiaosheng 
			
					《<a class="nexmoefont icon-appstore-fill -link" href="/categories/Rebar3/">Rebar3</a>》
				
				<!-- 
					<a href="https://github.com/nexmoe/books/tree/master/source/_posts/rebar3/1-Rebar3从一个例子入门.md" target="_blank" rel="external nofollow noreferrer noopener">编辑</a>
				 -->
			</div>
			
		</div>
	</div>
	<div class="container">
		<article class="post">
			<h1 id="1-Rebar3-从一个例子入门"><a href="#1-Rebar3-从一个例子入门" class="headerlink" title="1-Rebar3 从一个例子入门"></a>1-Rebar3 从一个例子入门</h1><h2 id="1-1-简介"><a href="#1-1-简介" class="headerlink" title="1.1 简介"></a>1.1 简介</h2><p>Rebar3 是 Erlang 社区中的标准构建工具。它本质上集成了 Erlang 附带的许多其他工具以及一些开源工具，并使它们都在统一的项目结构下工作。</p>
<h2 id="1-2-安装"><a href="#1-2-安装" class="headerlink" title="1.2 安装"></a>1.2 安装</h2><p>Rebar3 脚本安装，这个可以直接参考官方文档<a target="_blank" rel="noopener" href="http://rebar3.org/docs/getting-started/">http://rebar3.org/docs/getting-started/</a></p>
<p>不过我推荐的是源码安装<br>执行如下命令：</p>
<pre class="line-numbers language-erlang" data-language="erlang"><code class="language-erlang"><span class="token number">$ </span><span class="token atom">git</span> <span class="token atom">clone</span> <span class="token atom">https</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token atom">github</span><span class="token punctuation">.</span><span class="token atom">com</span><span class="token operator">/</span><span class="token atom">erlang</span><span class="token operator">/</span><span class="token atom">rebar3</span><span class="token punctuation">.</span><span class="token atom">git</span>
<span class="token number">$ </span><span class="token atom">cd</span> <span class="token atom">rebar3</span>
<span class="token number">$ </span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token atom">bootstrap</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>或者</p>
<pre class="line-numbers language-erlang" data-language="erlang"><code class="language-erlang"><span class="token number">$ </span><span class="token atom">git</span> <span class="token atom">clone</span> <span class="token atom">git@github</span><span class="token punctuation">.</span><span class="token atom">com</span><span class="token punctuation">:</span><span class="token atom">erlang</span><span class="token operator">/</span><span class="token atom">rebar3</span><span class="token punctuation">.</span><span class="token atom">git</span>
<span class="token number">$ </span><span class="token atom">cd</span> <span class="token atom">rebar3</span>
<span class="token number">$ </span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token atom">bootstrap</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>这会将rebar3escript 编译到目录的顶层rebar3，然后您可以全局安装：</p>
<pre class="line-numbers language-erlang" data-language="erlang"><code class="language-erlang"><span class="token punctuation">.</span><span class="token operator">/</span><span class="token atom">rebar3</span> <span class="token atom">local</span> <span class="token atom">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="1-3-创建新项目"><a href="#1-3-创建新项目" class="headerlink" title="1.3 创建新项目"></a>1.3 创建新项目</h2><p>Rebar3 提供的<strong>模板</strong>可以确保您的 Erlang 项目适合常规的 OTP 结构：</p>
<p>使用 rebar3 项目组织代码有两种主要方式：</p>
<ul>
<li><p>作为单个应用程序，</p>
</li>
<li><p>作为一个综合项目。</p>
</li>
<li><p><strong>单个应用程序项目</strong> 在目录的根目录中包含一个单独的顶级应用程序，其 Erlang 源模块直接位于src/目录中。这种格式适用于要在 GitHub 上发布的库或以 hex 格式发布的库，目的是让它们可与世界共享，但也可以与Releases一起使用，它允许发布一个直接启动应用程序的 Erlang 运行时系统。</p>
</li>
<li><p><strong>Umbrella 项目</strong> 的定义特征是它们可以包含多个顶级 Erlang/OTP 应用程序，通常位于顶级apps/或lib/目录中。这些应用程序中的每一个都可能包含自己的 rebar.config 文件。此格式仅适用于具有一个或多个顶级应用程序的版本。</p>
</li>
</ul>
<p>Rebar3 带有用于创建任一类型项目的模板，可通过命令调用。该template值可以是以下任何一种：</p>
<pre class="line-numbers language-none"><code class="language-none">rebar3 new &lt;template&gt; &lt;project-name&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>app：具有监督树的有状态 OTP 应用程序，作为单个应用程序项目</li>
<li>lib：一个库 OTP 应用程序（没有监督树），用于将各种模块组合在一起，作为单个应用程序项目</li>
<li>release: 准备发布的项目</li>
<li>escript：一种特殊形式的单一应用程序项目，可以构建为可运行的脚本</li>
<li>plugin: rebar3 插件的结构。<br>例如：<pre class="line-numbers language-erlang" data-language="erlang"><code class="language-erlang"><span class="token number">$ </span><span class="token atom">rebar3</span> <span class="token atom">new</span> <span class="token atom">app</span> <span class="token atom">myapp</span>
<span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">Writing</span> <span class="token atom">myapp</span><span class="token operator">/</span><span class="token atom">src</span><span class="token operator">/</span><span class="token atom">myapp_app</span><span class="token punctuation">.</span><span class="token atom">erl</span>
<span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">Writing</span> <span class="token atom">myapp</span><span class="token operator">/</span><span class="token atom">src</span><span class="token operator">/</span><span class="token atom">myapp_sup</span><span class="token punctuation">.</span><span class="token atom">erl</span>
<span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">Writing</span> <span class="token atom">myapp</span><span class="token operator">/</span><span class="token atom">src</span><span class="token operator">/</span><span class="token atom">myapp</span><span class="token punctuation">.</span><span class="token atom">app</span><span class="token punctuation">.</span><span class="token atom">src</span>
<span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">Writing</span> <span class="token atom">myapp</span><span class="token operator">/</span><span class="token atom">rebar</span><span class="token punctuation">.</span><span class="token atom">config</span>
<span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">Writing</span> <span class="token atom">myapp</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token atom">gitignore</span>
<span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">Writing</span> <span class="token atom">myapp</span><span class="token operator">/</span><span class="token variable">LICENSE</span>
<span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">Writing</span> <span class="token atom">myapp</span><span class="token operator">/</span><span class="token variable">README</span><span class="token punctuation">.</span><span class="token atom">md</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h2 id="1-4-项目类型"><a href="#1-4-项目类型" class="headerlink" title="1.4 项目类型"></a>1.4 项目类型</h2><table>
<thead>
<tr>
<th>项目类型</th>
<th>推荐模板</th>
<th>注释</th>
</tr>
</thead>
<tbody><tr>
<td>一个简短的脚本或工具</td>
<td>escript</td>
<td>你分发给的用户需要安装 Erlang。C 中的依赖关系既不是简单包含也不是重新分配</td>
</tr>
<tr>
<td>一个完整的、独立的、可执行的统</td>
<td>release or umbrella</td>
<td>这是 Erlang 系统推荐的生产部署。有关版本的更多详细信息，</td>
</tr>
<tr>
<td>在其他系统中使用的库</td>
<td>lib or app</td>
<td>用于lib包含模块的无状态库，以及app带有监督树的有状态库</td>
</tr>
<tr>
<td>多个库的集合</td>
<td>umbrella</td>
<td>这是使用多个顶级应用程序时支持的一种项目形式。这些项目通常不能用作依赖项。对于可用作依赖项的项目，请参阅如何声明git_subdir依赖项</td>
</tr>
</tbody></table>
<p>​		 </p>

			<br>
			
			
			<a class="tag-unordered list-link" href="/tags/Erlang/" rel="tag">Erlang<span class="tag-unordered list-count">10</span></a>, <a class="tag-unordered list-link" href="/tags/Rebar3/" rel="tag">Rebar3<span class="tag-unordered list-count">3</span></a>

			
		</article>
	</div>
	<div class="other">
		<div class="container">
			<nav class="post-nav">

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
         <!-- 先找到与当前文字相同的目录 -->
            
            
                 
                 <!-- 在找到当前文章所在的 index -->
                    
                    
                         

                        

                        

                    
                         

                          <!-- 上一篇文章 --> 
                            <div class="old">
                                <span>上一章</span>
                                <a href="/2022/09/07/rebar3/2-rebar3-xiang-guan-de-huan-jing-bian-liang-pei-zhi/"> 2-Rebar3 基本配置</a>
                            </div>
                        

                        

                    
                         

                        

                        

                    
                
            
                 
                
            
                 
                
            
        
    

    
        
    

    
        
    

    
        
    

    
        
    

</nav> 
		</div>
	</div>
	<div class="container comment">
		<div class="valine"></div>
<script src='https://cdn.jsdelivr.net/npm/valine'></script>
<script>
    // 使用方法 https://valine.js.org/quickstart.html
    new Valine({
        el: '.valine',
        appId: 'OrwF9gExPcH3pyeb35WIuKun-9Nh9j0Va',
        appKey: 'W098QAVm3hxbnBWRpho3a6HN'
    })
</script>
	</div>
</div>
		<div class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-left">中间件源码</div>
            <div class="footer-right"> 
                <div class="footer-links">
                    
                </div>
                <div calss="footer-copyright">&copy; 2022 中间件源码
                    Using <a rel="noreferrer" href="http://hexo.io/" target="_blank">Hexo</a> 
                    &amp; <a rel="noreferrer" href="https://github.com/Yet-The-Books/hexo-theme-yet-the-books" target="_blank">Yet The Books</a>
                </div>
            </div>  
        </div>
    </div>
</div>
	</body>
</html>
